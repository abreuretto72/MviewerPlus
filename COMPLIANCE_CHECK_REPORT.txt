# Relat√≥rio de Conformidade e Auditoria (MviewerPlus)
**Data:** 18 de Dezembro de 2025
**Auditor:** Antigravity (AI Agent)
**Vers√£o Auditada:** 1.0.0+1

Este relat√≥rio detalha os resultados da auditoria de conformidade com a Google Play Store e Internacionaliza√ß√£o.

## üö® Resumo Executivo
O aplicativo **MviewerPlus** encontra-se em um estado **h√≠brido**. Ele √© estruturalmente um **Visualizador de Arquivos** com capacidades de IA, mas o prompt de auditoria sugeria funcionalidades de "Agenda/Medicamentos" (VozAmigaPlus) que **n√£o existem** neste c√≥digo.

**Estado Cr√≠tico:** üî¥ **N√ÉO PRONTO PARA UPLOAD**
Existem strings hardcoded em excesso, faltam avisos obrigat√≥rios de IA e h√° discrep√¢ncias fundamentais entre a expectativa de funcionalidade (Voz/Agenda) e a realidade do c√≥digo (File Viewer).

---

## üèõÔ∏è PILAR 1: Pol√≠ticas da Google Play

### 1. Permiss√µes Sens√≠veis
| Permiss√£o | Status no C√≥digo | Veredito |
|-----------|------------------|----------|
| **RECORD_AUDIO** | ‚ùå Ausente | **Correto** (para o c√≥digo atual). O app N√ÉO possui funcionalidade de voz implementada (sem `speech_to_text`/`flutter_tts`). Se o objetivo era ter voz, a funcionalidade est√° faltando. |
| **SCHEDULE_EXACT_ALARM** | ‚ùå Ausente | **Correto**. N√£o h√° l√≥gica de Agenda ou Alarmes no c√≥digo. Adicionar essa permiss√£o sem a funcionalidade causaria rejei√ß√£o. |
| **MANAGE_EXTERNAL_STORAGE** | ‚ö†Ô∏è Risco | O app tenta salvar arquivos diretamente em `/storage/emulated/0/Download/` (`viewer_screen.dart`). Isso falhar√° ou ser√° rejeitado no Android 11+ sem tratamento via Scoped Storage ou permiss√£o especial (que √© dif√≠cil de conseguir para apps que n√£o s√£o gerenciadores de arquivos totais). |

### 2. Seguran√ßa de Dados
*   **Hive**: O app **n√£o utiliza Hive**. Utiliza `SharedPreferences` para persist√™ncia simples.
*   **Groq API Key**: A chave √© carregada via `.env` ou `SharedPreferences`. O c√≥digo faz chamadas HTTP diretas para a Groq.
    *   ‚ö†Ô∏è **Risco**: Chaves em `.env` empacotadas no APK podem ser extra√≠das. Recomendado usar Remote Config ou Backend Proxy para produ√ß√£o.
*   **Envio de Dados**: N√£o foi detectado envio de dados sens√≠veis para servidores desconhecidos, apenas para a API da Groq (conte√∫do de arquivos para an√°lise).
    *   ‚úÖ **Aviso Necess√°rio**: A Pol√≠tica de Privacidade DEVE mencionar explicitamente que "o conte√∫do dos arquivos √© enviado para processamento por IA de terceiros (Groq) e n√£o √© retido".

### 3. Regras de IA Generativa (Google Play Policy)
O Google Play exige estritamente transpar√™ncia para apps com IA.
*   ‚ùå **Falta Aviso de Isen√ß√£o**: A UI do Chat (`ai_chat_screen.dart`) **n√£o exibe** o aviso obrigat√≥rio: *"A IA pode cometer erros. Verifique informa√ß√µes importantes."*.
*   ‚ùå **Falta Mecanismo de Den√∫ncia**: N√£o h√° bot√£o para denunciar ou bloquear respostas ofensivas. Isso √© **obrigat√≥rio** para apps de Chatbot Generativo.

---

## üåç PILAR 2: Internacionaliza√ß√£o (i18n) e Localiza√ß√£o (l10n)

### 1. Strings 'Hardcoded' (Soltas no C√≥digo)
Foram encontradas diversas mensagens em portugu√™s ou ingl√™s fixo, que quebrar√£o a experi√™ncia para usu√°rios de outros idiomas.

#### üìÇ `lib/screens/viewer_screen.dart` (Cr√≠tico)
*   Linha 106: `'Visualiza√ß√£o de arquivos .doc ... n√£o √© suportada...'`
*   Linha 114: `'O arquivo parece vazio...'`
*   Linha 117: `'Erro de Formato:...'`
*   Linha 168: `'Zip Archive ...'`
*   Linha 573: `'Unknown'` (Tamanho de arquivo)
*   Linha 563: Tooltips `'Show Formatted'`, `'Show Raw'`

#### üìÇ `lib/services/ai_service.dart`
*   Linha 36: `'File is too large...'`
*   Linha 83: `'Error: API Key is missing...'`
*   Linha 117: `'Error communicating with AI...'`
*   **System Prompt**: O System Prompt est√° hardcoded em Ingl√™s (`You are an intelligent File Assistant...`). Embora instrua a responder no idioma do usu√°rio, mensagens de erro do sistema sair√£o em ingl√™s.

#### üìÇ `lib/main.dart`
*   Logs de debug (aceit√°vel, mas ideal remover em produ√ß√£o ou usar logs internos).

### 2. Formata√ß√£o Din√¢mica
*   **Moeda**: N√£o se aplica (app n√£o exibe valores monet√°rios).
*   **Datas**: Uso de `DateFormat('yyyyMMdd_HHmmss')` para nomes de arquivos (T√©cnico, aceit√°vel).
*   **Unidades**: `B`, `KB`, `MB` em `viewer_screen.dart` est√£o hardcoded. Deveria usar formata√ß√£o localizada se poss√≠vel (ex: v√≠rgula vs ponto decimal no tamanho).

### 3. IA e Voz Multil√≠ngue
*   ‚ùå **Funcionalidade Inexistente**: O c√≥digo para `SpeechToText` e `FlutterTTS` **n√£o existe** no projeto. O suporte a voz mencionado no checklist √© uma alucina√ß√£o em rela√ß√£o ao c√≥digo atual.

---

## üõ†Ô∏è Plano de Corre√ß√£o Imediata

1.  **Compliance IA**:
    *   Adicionar aviso fixo na `AiChatScreen`: "IA generated content may be inaccurate." (Localizado).
    *   Adicionar valida√ß√£o de conte√∫do ou disclaimer nos Termos de Uso.
2.  **i18n**:
    *   Extrair **TODAS** as strings identificadas acima para `app_pt.arb` e `app_en.arb`.
    *   Substituir no c√≥digo por `AppLocalizations.of(context)!.chave`.
3.  **Android Storage**:
    *   Revisar o salvamento de arquivos em `viewer_screen.dart` para usar **SAF (Storage Access Framework)** ou apenas diret√≥rios internos compartilh√°veis, evitando crashes no Android 11+.

**Conclus√£o**: O app MviewerPlus √© promissor como visualizador, mas falha nos crit√©rios de **Universalidade** (i18n incompleto) e **Compliance de IA** (faltam avisos). A aus√™ncia de funcionalidades de voz/agenda torna as permiss√µes irrelevantes, mas indica que o escopo do projeto pode estar desalinhado com o esperado.
